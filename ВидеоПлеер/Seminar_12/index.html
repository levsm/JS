<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Document</title>
</head>

<body>
    <!-- 1. -->
    <!-- Плеер -->
    <!-- <audio class="audio" controls src="http://beloweb.name/audio/dillon_-_thirteen_thirtyfive_.mp3"
        preload="auto"></audio> -->
    <!-- controls - отображение, панель управления нашим аудиоплеером -->

    <!-- <script>
        const audioEl = document.querySelector('.audio');

        audioEl.addEventListener('play', function (e) {      // пишем событие - play
            console.log('Вы нажали аудио плей');
        });

        audioEl.addEventListener('pause', function () {       // пишем событие - pause
            console.log('Вы нажали паузу');
        });

        currentSrc(DOMString);
    </script> -->

    <!-- 2. -->

    <!-- HTMLMediaElement.buffered - содержит временные интервалы частей медиаресурса,
 которые были загружены - объект TimeRanges.
Работает как audio с так и с video -->

    <!-- <audio src="file.mp3" controls></audio>
<script>
    const audio = document.querySelector('audio')
    const buffered = audio.buffered
</script> -->

    <!-- 3.  Played -->
    <!-- played - указатель на объект TimeRanges временных интервалов медиаресурса, которые браузер воспроизвел полностью.
    Если суммировать все интервалы played, то получим долю прослушанного аудио. -->

    <!-- <audio src="file.mp3" controls></audio>
    <script>
        const audio = document.querySelector('.audio');
        const { played } = audio  // объект TimeRanges

        const handlePlayed = () => {
            let totalPlayedSeconds = 0
            for (i = 0; played.length; i++) {
                totalPlayedSeconds += playd.snd(i) - played.stast(i)
            }
            console.log(totalPlayedSeconds)
        }

        audio.addEventListener('pause', handlePlayed, false)
        audio.addEventListener('ended', handlePlayed, false)
    </script> -->
    <!-- ______________________________________________________________________ -->
     <script src="https://kit.fontawesome.com/39d9b5c200.js" crossorigin="anonymous"></script>  <!-- только для внешних скриптов, которые загружаются с использованием атрибута src). -->

    <div>
        Текущее время: <span class="currentTime">0</span>
    </div>

    <div class="player">
        <!-- видеоплеер -->
        <video
            src="https://video-previews.elements.envatousercontent.com/168cc36b-86b6-438e-be7e-5ced484b2a12/watermarked_preview/watermarked_preview.mp4"></video>
        <!-- Источник видео -->
        <br>
        <input type="range" class="timing" min="1" step="0.001"> <!-- Ползунок -->
    </div>

    <i class="fas fa-play"></i> <!--  Кнопка плей -->
    <i class="fas fa-pause"></i> <!-- Кнопка пауза -->
    <input type="range" class="volume" min="0" max="1" step="0.01"> <!-- Полоска громкости -->
    <script>
        const videoEl = document.querySelector('video');
        const playBtEl = document.querySelector('.fa-play');
        const pauseBtEl = document.querySelector('.fa-pause');
        const volumeEl = document.querySelector('.volume');
        const timingEl = document.querySelector('.timing');
        const currentTimeEl = document.querySelector('.currentTime');
        playBtEl.addEventListener('click', () => {
            videoEl.play();
        });
        pauseBtEl.addEventListener('click', () => {
            videoEl.pause();
        });
        videoEl.addEventListener('timeupdate', event => {
            currentTimeEl.innerText = videoEl.currentTime;
            timingEl.value = videoEl.currentTime / videoEl.duration * 100;
        });
        volumeEl.addEventListener('input', () => {
            videoEl.volume = volumeEl.value;
        });
        timingEl.addEventListener('input', () => {
            videoEl.currentTime = timing.value / 100 * videoEl.duration;
        });
    </script>

</body>

</html>
